<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TagFlow: è½»é‡çº§æ ‡ç­¾åŒ–èµ„æºç®¡ç†ç³»ç»Ÿ - éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ (PRD)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', 'Noto Sans SC', sans-serif; background-color: #f8fafc; color: #334155; }
        .tab-active { border-bottom: 2px solid #3b82f6; color: #1d4ed8; font-weight: 600; }
        .tab-inactive { color: #64748b; cursor: pointer; }
        .tab-inactive:hover { color: #334155; }
        .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 300px; max-height: 400px; }
        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        .flow-arrow::after {
            content: 'â†’';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 1.5rem;
        }
        .last-flow::after { content: ''; }
    </style>
    <!-- Chosen Palette: Warm Neutral & Tech Blue (#f8fafc bg, #3b82f6 primary) for a clean, documentation-focused aesthetic. -->
    <!-- Application Structure Plan: Dashboard-style PRD. 
         1. Executive Summary: High-level vision.
         2. Analysis & Research: Competitive landscape and tech constraints.
         3. Feature Specs: Interactive requirement list.
         4. Architecture: Visual data flow and tech stack.
         5. UI Mockup: Live HTML implementation of the proposed interface to demonstrate UX.
         This structure moves from abstract goals to concrete visuals. -->
    <!-- Visualization & Content Choices:
         - Radar Chart: To compare "TagFlow" vs Traditional NAS managers (Flexibility vs Resources).
         - Bar Chart: Expected resource usage analysis.
         - HTML Wireframes: To visualize the UI without images/SVG.
         - Flow Blocks: To visualize the data scanning pipeline using CSS. 
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold mr-3">TF</div>
                    <div>
                        <h1 class="text-xl font-bold text-slate-900">TagFlow</h1>
                        <p class="text-xs text-slate-500">è½»é‡çº§æ ‡ç­¾åŒ–èµ„æºç®¡ç†ç³»ç»Ÿ PRD</p>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <button onclick="switchTab('vision')" id="tab-vision" class="tab-active px-3 py-2 text-sm font-medium transition-colors">äº§å“æ„¿æ™¯</button>
                    <button onclick="switchTab('analysis')" id="tab-analysis" class="tab-inactive px-3 py-2 text-sm font-medium transition-colors">ç«å“ä¸åˆ†æ</button>
                    <button onclick="switchTab('features')" id="tab-features" class="tab-inactive px-3 py-2 text-sm font-medium transition-colors">åŠŸèƒ½è§„æ ¼</button>
                    <button onclick="switchTab('architecture')" id="tab-architecture" class="tab-inactive px-3 py-2 text-sm font-medium transition-colors">æŠ€æœ¯æ¶æ„</button>
                    <button onclick="switchTab('mockup')" id="tab-mockup" class="tab-inactive px-3 py-2 text-sm font-medium transition-colors">ç•Œé¢åŸå‹</button>
                </nav>
            </div>
        </div>
        <!-- Mobile Nav Placeholder -->
        <div class="md:hidden border-t px-4 py-2 bg-slate-50 flex overflow-x-auto space-x-4">
            <button onclick="switchTab('vision')" class="whitespace-nowrap text-sm font-medium text-blue-600">æ„¿æ™¯</button>
            <button onclick="switchTab('features')" class="whitespace-nowrap text-sm font-medium text-slate-600">åŠŸèƒ½</button>
            <button onclick="switchTab('mockup')" class="whitespace-nowrap text-sm font-medium text-slate-600">åŸå‹</button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow bg-slate-50 p-4 sm:p-8">
        <div class="max-w-7xl mx-auto">
            
            <!-- SECTION: PRODUCT VISION -->
            <section id="vision" class="space-y-8 animate-fade-in">
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-4">äº§å“æ¦‚è¿° (Executive Summary)</h2>
                    <p class="text-slate-600 mb-6 leading-relaxed">
                        TagFlow æ—¨åœ¨ä¸ºä¸ªäººç”¨æˆ·ï¼ˆHomeLab, NAS çˆ±å¥½è€…ï¼‰æä¾›ä¸€ä¸ª<strong>è½»é‡çº§ã€æ ‡ç­¾ä¼˜å…ˆ</strong>çš„éä¾µå…¥å¼æ–‡ä»¶ç®¡ç†æ–¹æ¡ˆã€‚å®ƒä¸æ¥ç®¡åº•å±‚æ–‡ä»¶å­˜å‚¨ï¼Œè€Œæ˜¯é€šè¿‡æ‰«æç°æœ‰ç›®å½•ï¼ˆæœ¬åœ°æˆ– WebDAVï¼‰ï¼Œå»ºç«‹åŸºäºæ ‡ç­¾çš„ç´¢å¼•å±‚ï¼Œè§£å†³ä¼ ç»Ÿæ–‡ä»¶å¤¹å±‚çº§ç®¡ç†åœ¨é¢å¯¹è·¨ç»´åº¦æ£€ç´¢æ—¶çš„å±€é™æ€§ã€‚
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                        <div class="bg-blue-50 p-6 rounded-lg border border-blue-100">
                            <h3 class="font-bold text-blue-800 mb-2">ğŸ¯ æ ¸å¿ƒç—›ç‚¹</h3>
                            <ul class="text-sm text-blue-700 space-y-2">
                                <li>â€¢ æ–‡ä»¶å¤¹å±‚çº§è¿‡æ·±ï¼Œéš¾ä»¥æ‰¾å›æ—§èµ„æºã€‚</li>
                                <li>â€¢ åŒä¸€ä¸ªæ–‡ä»¶å±äºå¤šä¸ªåˆ†ç±»ï¼ˆå¦‚"ç…§ç‰‡"æ—¢å±äº"2023"ä¹Ÿå±äº"å®¶åº­"ï¼‰ï¼Œæ–‡ä»¶å¤¹éš¾ä»¥è¡¨è¾¾ã€‚</li>
                                <li>â€¢ ç°æœ‰æ–¹æ¡ˆï¼ˆå¦‚ Nextcloudï¼‰è¿‡äºåšé‡ï¼Œèµ„æºå ç”¨é«˜ã€‚</li>
                            </ul>
                        </div>
                        <div class="bg-emerald-50 p-6 rounded-lg border border-emerald-100">
                            <h3 class="font-bold text-emerald-800 mb-2">ğŸ’¡ è§£å†³æ–¹æ¡ˆ</h3>
                            <ul class="text-sm text-emerald-700 space-y-2">
                                <li>â€¢ <strong>è™šæ‹Ÿæ ‡ç­¾å±‚ï¼š</strong>æ–‡ä»¶ç‰©ç†ä½ç½®ä¸å˜ï¼Œé€»è¾‘ä¸Šé€šè¿‡æ ‡ç­¾ç®¡ç†ã€‚</li>
                                <li>â€¢ <strong>è‡ªåŠ¨åŒ–å…ƒæ•°æ®ï¼š</strong>è‡ªåŠ¨å°†æ‹“å±•åã€ç›®å½•å±‚çº§è½¬åŒ–ä¸ºåŸºç¡€æ ‡ç­¾ã€‚</li>
                                <li>â€¢ <strong>æç®€æ¶æ„ï¼š</strong>Docker å•å®¹å™¨éƒ¨ç½²ï¼Œä½å†…å­˜å ç”¨ã€‚</li>
                            </ul>
                        </div>
                        <div class="bg-purple-50 p-6 rounded-lg border border-purple-100">
                            <h3 class="font-bold text-purple-800 mb-2">ğŸš€ ç›®æ ‡ç”¨æˆ·</h3>
                            <ul class="text-sm text-purple-700 space-y-2">
                                <li>â€¢ NAS ç”¨æˆ· (ç¾¤æ™–, Unraid, TrueNAS)ã€‚</li>
                                <li>â€¢ æ‹¥æœ‰å¤§é‡ç´ æï¼ˆå›¾ç‰‡ã€æ–‡æ¡£ã€è§†é¢‘ï¼‰çš„è®¾è®¡å¸ˆæˆ–å¼€å‘è€…ã€‚</li>
                                <li>â€¢ æ•´ç†ç™–çˆ±å¥½è€…ã€‚</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Strategic Positioning Chart -->
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                    <h3 class="text-lg font-bold text-slate-800 mb-4">äº§å“å®šä½åˆ†æ</h3>
                    <p class="text-sm text-slate-500 mb-6">ç›¸æ¯”äºä¼ä¸šçº§ DAM ç³»ç»Ÿæˆ–ç®€å•çš„æ–‡ä»¶æµè§ˆå™¨ï¼ŒTagFlow ä¸“æ³¨äºâ€œä¸ªäººè½»é‡åŒ–ç®¡ç†â€ã€‚</p>
                    <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                        <div class="w-full md:w-1/2 chart-container">
                            <canvas id="radarChart"></canvas>
                        </div>
                        <div class="w-full md:w-1/2 space-y-4">
                            <div class="p-4 bg-slate-50 rounded border border-slate-200">
                                <h4 class="font-semibold text-sm">è½»é‡çº§ (Lightweight)</h4>
                                <p class="text-xs text-slate-500 mt-1">æ‘’å¼ƒå…¨æ–‡æ£€ç´¢ã€å¤šç§Ÿæˆ·æƒé™ç­‰é‡èµ„æºåŠŸèƒ½ï¼Œä¸“æ³¨äºå…ƒæ•°æ®ç´¢å¼•ã€‚æ•°æ®åº“æ¨è SQLiteã€‚</p>
                            </div>
                            <div class="p-4 bg-slate-50 rounded border border-slate-200">
                                <h4 class="font-semibold text-sm">éä¾µå…¥å¼ (Non-Intrusive)</h4>
                                <p class="text-xs text-slate-500 mt-1">åªè¯»æ¨¡å¼æ‰«æï¼Œä¸ä¿®æ”¹æºæ–‡ä»¶ã€‚åˆ é™¤æ ‡ç­¾ä¸ç­‰äºåˆ é™¤æ–‡ä»¶ã€‚æ•°æ®è¿ç§»é›¶æˆæœ¬ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: ANALYSIS -->
            <section id="analysis" class="hidden space-y-8 animate-fade-in">
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-6">ç«å“å‚è€ƒä¸åŠŸèƒ½å–èˆ</h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full text-sm text-left text-slate-500">
                            <thead class="text-xs text-slate-700 uppercase bg-slate-50">
                                <tr>
                                    <th class="px-6 py-3">ç‰¹æ€§</th>
                                    <th class="px-6 py-3">Eagle / Billfish (æœ¬åœ°å®¢æˆ·ç«¯)</th>
                                    <th class="px-6 py-3">Nextcloud / FileBrowser (NAS)</th>
                                    <th class="px-6 py-3 font-bold text-blue-600">TagFlow (æœ¬é¡¹ç›®)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white border-b">
                                    <td class="px-6 py-4 font-medium text-slate-900">éƒ¨ç½²æ–¹å¼</td>
                                    <td class="px-6 py-4">æ¡Œé¢å®¢æˆ·ç«¯ (PC/Mac)</td>
                                    <td class="px-6 py-4">Web æœåŠ¡ (Docker)</td>
                                    <td class="px-6 py-4 bg-blue-50 text-blue-700 font-semibold">Web æœåŠ¡ (Docker)</td>
                                </tr>
                                <tr class="bg-white border-b">
                                    <td class="px-6 py-4 font-medium text-slate-900">æ–‡ä»¶ç®¡ç†é€»è¾‘</td>
                                    <td class="px-6 py-4">åº“æ–‡ä»¶æ¥ç®¡ (éœ€å¯¼å…¥)</td>
                                    <td class="px-6 py-4">çº¯æ–‡ä»¶å¤¹æ˜ å°„</td>
                                    <td class="px-6 py-4 bg-blue-50 text-blue-700 font-semibold">æ˜ å°„ + æ ‡ç­¾å±‚ (æ— éœ€å¯¼å…¥)</td>
                                </tr>
                                <tr class="bg-white border-b">
                                    <td class="px-6 py-4 font-medium text-slate-900">èµ„æºæ¶ˆè€—</td>
                                    <td class="px-6 py-4">ä¸­ (ä¾èµ–æœ¬åœ°æ˜¾å¡/å†…å­˜)</td>
                                    <td class="px-6 py-4">é«˜ (PHP/Java, æ•°æ®åº“é‡)</td>
                                    <td class="px-6 py-4 bg-blue-50 text-blue-700 font-semibold">æä½ (Go/Rust + SQLite)</td>
                                </tr>
                                <tr class="bg-white">
                                    <td class="px-6 py-4 font-medium text-slate-900">æ ¸å¿ƒäº¤äº’</td>
                                    <td class="px-6 py-4">æä½³ (æ‹–æ‹½ã€ç€‘å¸ƒæµ)</td>
                                    <td class="px-6 py-4">ä¸€èˆ¬ (åˆ—è¡¨ä¸ºä¸»)</td>
                                    <td class="px-6 py-4 bg-blue-50 text-blue-700 font-semibold">è‰¯å¥½ (ä¸“æ³¨ç­›é€‰æ•ˆç‡)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">ä¸»è¦çº¦æŸ (Constraints)</h3>
                        <ul class="list-disc list-inside space-y-2 text-sm text-slate-600">
                            <li><strong>å•ç”¨æˆ·æ¨¡å‹ï¼š</strong> æš‚ä¸è®¾è®¡å¤æ‚çš„ç”¨æˆ·æƒé™ç³»ç»Ÿï¼Œä»…éœ€å…¨å±€å¯†ç ä¿æŠ¤ã€‚</li>
                            <li><strong>æ€§èƒ½è¾¹ç•Œï¼š</strong> é’ˆå¯¹ 10ä¸‡+ æ–‡ä»¶çº§åˆ«è¿›è¡Œä¼˜åŒ–ï¼Œä½†ä¸æ”¯æŒå…¨æ–‡å†…å®¹æ£€ç´¢ï¼ˆOCR/Elasticsearchï¼‰ã€‚</li>
                            <li><strong>å­˜å‚¨åè®®ï¼š</strong> å¿…é¡»æ”¯æŒæœ¬åœ°æŒ‚è½½å·ï¼ˆDocker Volumeï¼‰å’Œ WebDAV æŒ‚è½½ã€‚</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">æŠ€æœ¯é€‰å‹å»ºè®®</h3>
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium">åç«¯ (Go/Rust)</span>
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">æ¨è</span>
                        </div>
                        <p class="text-xs text-slate-500 mb-4">ç¼–è¯‘ä¸ºå•ä¸€äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå†…å­˜å ç”¨ < 50MBã€‚</p>
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium">æ•°æ®åº“ (SQLite)</span>
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">æ¨è</span>
                        </div>
                        <p class="text-xs text-slate-500 mb-4">æ— éœ€å•ç‹¬éƒ¨ç½² DB å®¹å™¨ï¼Œæ•°æ®æ–‡ä»¶æ˜“å¤‡ä»½ã€‚</p>
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium">å‰ç«¯ (Vue3/React + Tailwind)</span>
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">æ¨è</span>
                        </div>
                        <p class="text-xs text-slate-500">SPA æ¶æ„ï¼Œæ“ä½œå“åº”å¿«ã€‚</p>
                    </div>
                </div>
            </section>

            <!-- SECTION: FEATURES -->
            <section id="features" class="hidden space-y-8 animate-fade-in">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-slate-900">åŠŸèƒ½è§„æ ¼åˆ—è¡¨ (Feature Specifications)</h2>
                    <div class="flex space-x-2">
                        <span class="px-3 py-1 bg-red-100 text-red-700 rounded text-xs font-bold">P0: å¿…é¡»</span>
                        <span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-bold">P1: é‡è¦</span>
                        <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-bold">P2: å¾…å®š</span>
                    </div>
                </div>

                <!-- Interactive Filters -->
                <div class="flex space-x-4 mb-4">
                    <button onclick="filterFeatures('all')" class="text-sm font-medium text-slate-600 hover:text-blue-600">å…¨éƒ¨</button>
                    <button onclick="filterFeatures('Resource')" class="text-sm font-medium text-slate-600 hover:text-blue-600">èµ„æºåº“ç®¡ç†</button>
                    <button onclick="filterFeatures('Tag')" class="text-sm font-medium text-slate-600 hover:text-blue-600">æ ‡ç­¾ç³»ç»Ÿ</button>
                    <button onclick="filterFeatures('View')" class="text-sm font-medium text-slate-600 hover:text-blue-600">å±•ç¤ºäº¤äº’</button>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                    <table class="min-w-full divide-y divide-slate-200" id="featureTable">
                        <thead class="bg-slate-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">ID</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">æ¨¡å—</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">åŠŸèƒ½æè¿°</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">ä¼˜å…ˆçº§</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">éªŒæ”¶æ ‡å‡†</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-slate-200" id="featureBody">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>

                <!-- Auto-Tagging Logic Detail -->
                <div class="bg-blue-50 border border-blue-100 rounded-xl p-6 mt-8">
                    <h3 class="text-lg font-bold text-blue-800 mb-3">ğŸ¤– æ ¸å¿ƒé€»è¾‘ï¼šè‡ªåŠ¨æ ‡ç­¾ç­–ç•¥</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                        <div class="bg-white p-4 rounded shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2">1. æ‹“å±•åæ˜ å°„</h4>
                            <p class="text-slate-500">æ–‡ä»¶å…¥åº“æ—¶ï¼Œè‡ªåŠ¨æå–åç¼€åç”Ÿæˆæ ‡ç­¾ã€‚</p>
                            <code class="block mt-2 bg-slate-100 p-2 rounded text-xs">.jpg -> #jpg, #image</code>
                        </div>
                        <div class="bg-white p-4 rounded shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2">2. è·¯å¾„æ˜ å°„</h4>
                            <p class="text-slate-500">å°†æ–‡ä»¶å¤¹å±‚çº§è½¬æ¢ä¸ºå±‚çº§æ ‡ç­¾ã€‚</p>
                            <code class="block mt-2 bg-slate-100 p-2 rounded text-xs">/Photos/2023/Travel -> #Photos, #2023, #Travel</code>
                        </div>
                        <div class="bg-white p-4 rounded shadow-sm">
                            <h4 class="font-bold text-slate-700 mb-2">3. åŸºç¡€å…ƒæ•°æ®</h4>
                            <p class="text-slate-500">å¯¹äºåª’ä½“æ–‡ä»¶ï¼Œæå–ç®€å•å…ƒæ•°æ®ã€‚</p>
                            <code class="block mt-2 bg-slate-100 p-2 rounded text-xs">FileSize > 1GB -> #LargeFile</code>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: ARCHITECTURE -->
            <section id="architecture" class="hidden space-y-8 animate-fade-in">
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-8">
                    <h2 class="text-2xl font-bold text-slate-900 mb-6">ç³»ç»Ÿæ¶æ„ä¸æ•°æ®æµ</h2>
                    
                    <!-- Scanner Pipeline Visualization -->
                    <div class="mb-8">
                        <h3 class="text-lg font-semibold text-slate-700 mb-4">æ•°æ®ç´¢å¼•æµç¨‹ (Scanner Pipeline)</h3>
                        <div class="flex flex-col md:flex-row justify-between items-center bg-slate-50 p-6 rounded-xl border border-slate-200 space-y-4 md:space-y-0">
                            <!-- Step 1 -->
                            <div class="relative flex flex-col items-center w-48 text-center flow-arrow">
                                <div class="w-12 h-12 bg-white border-2 border-slate-300 rounded-full flex items-center justify-center mb-2 font-bold text-slate-600">1</div>
                                <h4 class="font-bold text-sm">Mount Point</h4>
                                <p class="text-xs text-slate-500">Docker Volume / WebDAV</p>
                            </div>
                            <!-- Step 2 -->
                            <div class="relative flex flex-col items-center w-48 text-center flow-arrow">
                                <div class="w-12 h-12 bg-blue-100 border-2 border-blue-500 rounded-full flex items-center justify-center mb-2 font-bold text-blue-600">2</div>
                                <h4 class="font-bold text-sm">Watcher/Scanner</h4>
                                <p class="text-xs text-slate-500">æ£€æµ‹æ–‡ä»¶å˜åŠ¨ (Inotify/Polling)</p>
                            </div>
                            <!-- Step 3 -->
                            <div class="relative flex flex-col items-center w-48 text-center flow-arrow">
                                <div class="w-12 h-12 bg-purple-100 border-2 border-purple-500 rounded-full flex items-center justify-center mb-2 font-bold text-purple-600">3</div>
                                <h4 class="font-bold text-sm">Meta Extractor</h4>
                                <p class="text-xs text-slate-500">ç”ŸæˆåŸºç¡€æ ‡ç­¾ & ç¼©ç•¥å›¾</p>
                            </div>
                            <!-- Step 4 -->
                            <div class="relative flex flex-col items-center w-48 text-center last-flow">
                                <div class="w-12 h-12 bg-green-100 border-2 border-green-500 rounded-full flex items-center justify-center mb-2 font-bold text-green-600">4</div>
                                <h4 class="font-bold text-sm">SQLite DB</h4>
                                <p class="text-xs text-slate-500">å­˜å‚¨è·¯å¾„ä¸æ ‡ç­¾å…³ç³»</p>
                            </div>
                        </div>
                    </div>

                    <!-- ER Diagram Concept -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="text-lg font-semibold text-slate-700 mb-4">æ ¸å¿ƒæ•°æ®æ¨¡å‹ (ER Concept)</h3>
                            <div class="bg-slate-900 text-slate-300 p-6 rounded-lg font-mono text-sm leading-relaxed overflow-x-auto">
                                <div class="mb-4">
                                    <span class="text-yellow-400">Table</span> Libraries {<br>
                                    &nbsp;&nbsp;id: INT<br>
                                    &nbsp;&nbsp;path: STRING<br>
                                    &nbsp;&nbsp;type: 'local' | 'webdav'<br>
                                    }
                                </div>
                                <div class="mb-4">
                                    <span class="text-yellow-400">Table</span> Files {<br>
                                    &nbsp;&nbsp;id: INT<br>
                                    &nbsp;&nbsp;library_id: INT<br>
                                    &nbsp;&nbsp;rel_path: STRING <span class="text-slate-500">// ç›¸å¯¹è·¯å¾„</span><br>
                                    &nbsp;&nbsp;hash: STRING <span class="text-slate-500">// å¿«é€Ÿå“ˆå¸Œç”¨äºå»é‡</span><br>
                                    &nbsp;&nbsp;meta_json: JSON <span class="text-slate-500">// å®½è¡¨å­˜å‚¨é¢å¤–ä¿¡æ¯</span><br>
                                    }
                                </div>
                                <div>
                                    <span class="text-yellow-400">Table</span> File_Tags {<br>
                                    &nbsp;&nbsp;file_id: INT<br>
                                    &nbsp;&nbsp;tag_id: INT<br>
                                    &nbsp;&nbsp;source: 'auto' | 'user'<br>
                                    }
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-slate-700 mb-4">æŠ€æœ¯æ ˆæ¨è</h3>
                            <ul class="space-y-3">
                                <li class="flex items-start">
                                    <span class="w-24 font-bold text-slate-800 text-sm">Backend</span>
                                    <span class="text-sm text-slate-600"><strong>Go (Gin/Fiber)</strong> - ç¼–è¯‘äº§ç‰©å°ï¼Œå¹¶å‘å¤„ç†æ–‡ä»¶æ‰«ææ•ˆç‡é«˜ï¼Œè·¨å¹³å°å®¹æ˜“ã€‚</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="w-24 font-bold text-slate-800 text-sm">Database</span>
                                    <span class="text-sm text-slate-600"><strong>SQLite + WAL Mode</strong> - è¶³å¤Ÿå¤„ç† 10-50ä¸‡è¡Œæ•°æ®ï¼Œé›¶è¿ç»´æˆæœ¬ã€‚</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="w-24 font-bold text-slate-800 text-sm">Image Proc</span>
                                    <span class="text-sm text-slate-600"><strong>Vips / Imaging</strong> - å¿…é¡»åœ¨åç«¯ç”Ÿæˆç¼©ç•¥å›¾ï¼Œé¿å…å‰ç«¯åŠ è½½å¤§å›¾å¡é¡¿ã€‚</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="w-24 font-bold text-slate-800 text-sm">Frontend</span>
                                    <span class="text-sm text-slate-600"><strong>React/Vue + Tailwind</strong> - å“åº”å¼å¸ƒå±€ï¼Œè™šæ‹Ÿæ»šåŠ¨åˆ—è¡¨ï¼ˆVirtual Scrollerï¼‰æ˜¯å¿…é¡»çš„ï¼Œä»¥æ”¯æŒå¤§æ–‡ä»¶åˆ—è¡¨ã€‚</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION: UI MOCKUP -->
            <section id="mockup" class="hidden space-y-6 animate-fade-in">
                <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4">
                    <h2 class="text-2xl font-bold text-slate-900 mb-2">ç•Œé¢åŸå‹ (Low-Fidelity Prototype)</h2>
                    <p class="text-sm text-slate-500 mb-6">ä»¥ä¸‹æ˜¯æ ¸å¿ƒç•Œé¢çš„ HTML äº¤äº’æ¼”ç¤ºï¼Œæ¨¡æ‹Ÿå®é™…åº”ç”¨çš„å¸ƒå±€é€»è¾‘ã€‚</p>

                    <!-- Mockup Window -->
                    <div class="border border-slate-300 rounded-lg shadow-lg overflow-hidden flex flex-col h-[600px] bg-white">
                        <!-- Mockup Header -->
                        <div class="h-14 bg-white border-b border-slate-200 flex items-center justify-between px-4">
                            <div class="flex items-center space-x-4">
                                <span class="font-bold text-blue-600">TagFlow</span>
                                <div class="relative">
                                    <input type="text" placeholder="æœç´¢æ ‡ç­¾æˆ–æ–‡ä»¶å..." class="pl-8 pr-4 py-1.5 bg-slate-100 border-none rounded-md text-sm w-64 focus:ring-2 focus:ring-blue-500">
                                    <span class="absolute left-2.5 top-2 text-slate-400 text-xs">ğŸ”</span>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <button class="p-1.5 text-slate-500 hover:bg-slate-100 rounded">ğŸ“…</button>
                                <button class="p-1.5 text-slate-500 hover:bg-slate-100 rounded">âš™ï¸</button>
                                <div class="w-8 h-8 bg-slate-200 rounded-full"></div>
                            </div>
                        </div>

                        <!-- Mockup Body -->
                        <div class="flex flex-grow overflow-hidden">
                            <!-- Sidebar (Tags) -->
                            <div class="w-56 bg-slate-50 border-r border-slate-200 flex flex-col">
                                <div class="p-4 border-b border-slate-200">
                                    <h3 class="text-xs font-bold text-slate-500 uppercase mb-3">èµ„æºåº“</h3>
                                    <div class="space-y-1">
                                        <div class="flex items-center px-2 py-1.5 bg-blue-100 text-blue-700 rounded text-sm cursor-pointer">
                                            <span class="mr-2">ğŸ“‚</span> æœ¬åœ° NAS
                                        </div>
                                        <div class="flex items-center px-2 py-1.5 text-slate-600 hover:bg-slate-200 rounded text-sm cursor-pointer">
                                            <span class="mr-2">â˜ï¸</span> WebDAV ç½‘ç›˜
                                        </div>
                                    </div>
                                </div>
                                <div class="p-4 flex-grow overflow-y-auto">
                                    <h3 class="text-xs font-bold text-slate-500 uppercase mb-3">æ ‡ç­¾è¿‡æ»¤å™¨</h3>
                                    <!-- Tag Groups -->
                                    <div class="mb-4">
                                        <div class="text-xs font-semibold text-slate-400 mb-2">æ–‡ä»¶ç±»å‹</div>
                                        <div class="flex flex-wrap gap-2">
                                            <span class="px-2 py-1 bg-white border border-slate-200 rounded text-xs text-slate-600 cursor-pointer hover:border-blue-400">#Image (420)</span>
                                            <span class="px-2 py-1 bg-white border border-slate-200 rounded text-xs text-slate-600 cursor-pointer hover:border-blue-400">#Video (12)</span>
                                            <span class="px-2 py-1 bg-white border border-slate-200 rounded text-xs text-slate-600 cursor-pointer hover:border-blue-400">#Doc (85)</span>
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <div class="text-xs font-semibold text-slate-400 mb-2">è‡ªåŠ¨æ ‡ç­¾</div>
                                        <div class="flex flex-wrap gap-2">
                                            <span class="px-2 py-1 bg-white border border-slate-200 rounded text-xs text-slate-600 cursor-pointer hover:border-blue-400">#2023</span>
                                            <span class="px-2 py-1 bg-white border border-slate-200 rounded text-xs text-slate-600 cursor-pointer hover:border-blue-400">#Work</span>
                                            <span class="px-2 py-1 bg-white border border-slate-200 rounded text-xs text-slate-600 cursor-pointer hover:border-blue-400">#ProjectA</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Main Grid -->
                            <div class="flex-grow bg-white p-4 overflow-y-auto">
                                <div class="flex justify-between items-center mb-4">
                                    <h2 class="text-lg font-bold text-slate-800">æ‰€æœ‰æ–‡ä»¶ <span class="text-sm font-normal text-slate-400">(517 items)</span></h2>
                                    <div class="flex space-x-2">
                                        <select class="text-xs border border-slate-200 rounded px-2 py-1"><option>æœ€è¿‘æ·»åŠ </option><option>åç§°æ’åº</option></select>
                                    </div>
                                </div>

                                <!-- Grid Items -->
                                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                                    <!-- Item 1 -->
                                    <div class="group border border-slate-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow cursor-pointer relative">
                                        <div class="h-32 bg-slate-100 flex items-center justify-center text-4xl text-slate-300">ğŸ–¼ï¸</div>
                                        <div class="p-3">
                                            <div class="text-sm font-medium text-slate-700 truncate">Design_Mockup_v2.png</div>
                                            <div class="flex gap-1 mt-2">
                                                <span class="text-[10px] px-1.5 py-0.5 bg-blue-50 text-blue-600 rounded">#Image</span>
                                                <span class="text-[10px] px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded">#Work</span>
                                            </div>
                                        </div>
                                        <!-- Selection Checkbox -->
                                        <div class="absolute top-2 right-2 w-5 h-5 border-2 border-white bg-slate-200 rounded-full opacity-0 group-hover:opacity-100"></div>
                                    </div>
                                    <!-- Item 2 -->
                                    <div class="group border border-slate-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow cursor-pointer relative">
                                        <div class="h-32 bg-slate-100 flex items-center justify-center text-4xl text-slate-300">ğŸ“„</div>
                                        <div class="p-3">
                                            <div class="text-sm font-medium text-slate-700 truncate">Project_Plan_2024.pdf</div>
                                            <div class="flex gap-1 mt-2">
                                                <span class="text-[10px] px-1.5 py-0.5 bg-blue-50 text-blue-600 rounded">#PDF</span>
                                                <span class="text-[10px] px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded">#2024</span>
                                            </div>
                                        </div>
                                    </div>
                                     <!-- Item 3 -->
                                     <div class="group border border-slate-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow cursor-pointer relative">
                                        <div class="h-32 bg-slate-100 flex items-center justify-center text-4xl text-slate-300">ğŸ¥</div>
                                        <div class="p-3">
                                            <div class="text-sm font-medium text-slate-700 truncate">Demo_Video_Final.mp4</div>
                                            <div class="flex gap-1 mt-2">
                                                <span class="text-[10px] px-1.5 py-0.5 bg-blue-50 text-blue-600 rounded">#Video</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Ghost Items for visual balance -->
                                    <div class="h-48 bg-slate-50 rounded-lg border border-dashed border-slate-200"></div>
                                    <div class="h-48 bg-slate-50 rounded-lg border border-dashed border-slate-200"></div>
                                </div>
                            </div>

                            <!-- Right Details Panel (Collapsible) -->
                            <div class="hidden lg:block w-64 bg-white border-l border-slate-200 p-4">
                                <div class="text-center mb-4">
                                    <div class="w-24 h-24 bg-slate-100 rounded mx-auto mb-2 flex items-center justify-center text-2xl">ğŸ–¼ï¸</div>
                                    <h3 class="text-sm font-bold text-slate-800 break-words">Design_Mockup_v2.png</h3>
                                </div>
                                <div class="space-y-4 text-xs">
                                    <div>
                                        <label class="block text-slate-400 mb-1">è·¯å¾„</label>
                                        <div class="text-slate-600 font-mono bg-slate-50 p-1 rounded break-all">/mnt/data/work/images/</div>
                                    </div>
                                    <div>
                                        <label class="block text-slate-400 mb-1">å¤§å°</label>
                                        <div class="text-slate-600">2.4 MB</div>
                                    </div>
                                    <div>
                                        <label class="block text-slate-400 mb-2">å½“å‰æ ‡ç­¾</label>
                                        <div class="flex flex-wrap gap-1">
                                            <span class="px-2 py-1 bg-blue-100 text-blue-700 rounded flex items-center">#Image <button class="ml-1 text-blue-400">Ã—</button></span>
                                            <span class="px-2 py-1 bg-slate-100 text-slate-600 rounded flex items-center">#Work <button class="ml-1 text-slate-400">Ã—</button></span>
                                            <button class="px-2 py-1 border border-dashed border-slate-300 text-slate-400 rounded hover:bg-slate-50">+ Add</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-slate-500 text-sm">TagFlow Project Requirements Document - Generated by AI Assistant</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Definitions ---
        const featureData = [
            { id: "F-001", module: "Resource", desc: "æœ¬åœ°ç›®å½•æŒ‚è½½ä¸æ‰«æ (Docker Volume)", priority: "P0", acceptance: "èƒ½è¯†åˆ«æ˜ å°„è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ç»“æ„" },
            { id: "F-002", module: "Resource", desc: "WebDAV åè®®æ”¯æŒ", priority: "P1", acceptance: "å¯è¾“å…¥WebDAVåœ°å€/è´¦å·å¹¶æˆåŠŸç´¢å¼•" },
            { id: "F-003", module: "Tag", desc: "è‡ªåŠ¨æ ‡ç­¾ï¼šæ–‡ä»¶æ‹“å±•å", priority: "P0", acceptance: ".jpgè‡ªåŠ¨æ‰“ä¸Š#jpgå’Œ#image" },
            { id: "F-004", module: "Tag", desc: "è‡ªåŠ¨æ ‡ç­¾ï¼šè·¯å¾„è§£æ", priority: "P0", acceptance: "å°†çˆ¶æ–‡ä»¶å¤¹åç§°è‡ªåŠ¨è½¬æ¢ä¸ºæ ‡ç­¾" },
            { id: "F-005", module: "Tag", desc: "æ‰‹åŠ¨æ ‡ç­¾ç®¡ç†", priority: "P0", acceptance: "ç”¨æˆ·å¯å¢åˆ æ–‡ä»¶çš„æ ‡ç­¾ï¼Œä¸ä¿®æ”¹æºæ–‡ä»¶" },
            { id: "F-006", module: "View", desc: "æ ‡ç­¾ç­›é€‰å™¨ (AND/ORé€»è¾‘)", priority: "P0", acceptance: "ç‚¹å‡»å¤šä¸ªæ ‡ç­¾è¿›è¡Œäº¤é›†ç­›é€‰" },
            { id: "F-007", module: "View", desc: "ç€‘å¸ƒæµ/ç½‘æ ¼è§†å›¾åˆ‡æ¢", priority: "P1", acceptance: "æ”¯æŒä¸åŒå¯†åº¦çš„æ–‡ä»¶å±•ç¤º" },
            { id: "F-008", module: "Sys", desc: "ç¼©ç•¥å›¾ç”Ÿæˆä¸ç¼“å­˜", priority: "P1", acceptance: "å›¾ç‰‡/è§†é¢‘æ–‡ä»¶æ˜¾ç¤ºç¼©ç•¥å›¾è€Œéé€šç”¨å›¾æ ‡" },
            { id: "F-009", module: "Sys", desc: "å®šæ—¶è‡ªåŠ¨é‡æ‰«", priority: "P2", acceptance: "åå°Cronä»»åŠ¡æ£€æµ‹æ–‡ä»¶å˜åŠ¨" }
        ];

        // --- Core Interactions ---
        function switchTab(tabId) {
            // Hide all sections
            ['vision', 'analysis', 'features', 'architecture', 'mockup'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            // Show selected section
            document.getElementById(tabId).classList.remove('hidden');
            
            // Update Tab Styles
            document.querySelectorAll('nav button').forEach(btn => {
                btn.classList.remove('tab-active');
                btn.classList.add('tab-inactive');
            });
            document.getElementById('tab-' + tabId).classList.add('tab-active');
            document.getElementById('tab-' + tabId).classList.remove('tab-inactive');

            // Render Charts if entering Vision tab
            if (tabId === 'vision') {
                renderCharts();
            }
        }

        function filterFeatures(category) {
            const tbody = document.getElementById('featureBody');
            tbody.innerHTML = ''; // Clear existing

            featureData.forEach(item => {
                if (category === 'all' || item.module === category) {
                    const tr = document.createElement('tr');
                    tr.className = 'bg-white hover:bg-slate-50 transition-colors';
                    
                    let priorityClass = '';
                    if(item.priority === 'P0') priorityClass = 'bg-red-100 text-red-800';
                    else if(item.priority === 'P1') priorityClass = 'bg-yellow-100 text-yellow-800';
                    else priorityClass = 'bg-blue-100 text-blue-800';

                    tr.innerHTML = `
                        <td class="px-6 py-4 whitespace-nowrap text-xs font-mono text-slate-500">${item.id}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-700 font-semibold">${item.module}</td>
                        <td class="px-6 py-4 text-sm text-slate-600">${item.desc}</td>
                        <td class="px-6 py-4 whitespace-nowrap"><span class="px-2 py-1 rounded text-xs font-bold ${priorityClass}">${item.priority}</span></td>
                        <td class="px-6 py-4 text-xs text-slate-500 italic">${item.acceptance}</td>
                    `;
                    tbody.appendChild(tr);
                }
            });
        }

        // --- Chart Logic ---
        let radarChartInstance = null;

        function renderCharts() {
            const ctx = document.getElementById('radarChart');
            if (!ctx) return;
            if (radarChartInstance) return; // Prevent re-rendering

            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['éƒ¨ç½²è½»ä¾¿æ€§', 'æ£€ç´¢çµæ´»æ€§', 'èµ„æºå ç”¨(ä½)', 'å…ƒæ•°æ®ä¸°å¯Œåº¦', 'å¤šç”¨æˆ·æƒé™'],
                    datasets: [{
                        label: 'TagFlow (æœ¬æ–¹æ¡ˆ)',
                        data: [9, 8, 9, 6, 2],
                        fill: true,
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgb(59, 130, 246)',
                        pointBackgroundColor: 'rgb(59, 130, 246)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(59, 130, 246)'
                    }, {
                        label: 'Nextcloud (ä¼ ç»ŸNAS)',
                        data: [4, 3, 3, 5, 9],
                        fill: true,
                        backgroundColor: 'rgba(148, 163, 184, 0.2)',
                        borderColor: 'rgb(148, 163, 184)',
                        pointBackgroundColor: 'rgb(148, 163, 184)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(148, 163, 184)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    elements: {
                        line: { borderWidth: 3 }
                    },
                    scales: {
                        r: {
                            angleLines: { display: true },
                            suggestedMin: 0,
                            suggestedMax: 10,
                            grid: { color: '#e2e8f0' },
                            pointLabels: {
                                font: { size: 12, family: "'Inter', sans-serif" },
                                color: '#475569'
                            }
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom', labels: { usePointStyle: true, font: { family: "'Inter', sans-serif" } } }
                    }
                }
            });
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            // Default to Vision tab
            switchTab('vision');
            // Initial render of features
            filterFeatures('all');
        });

    </script>
</body>
</html> 