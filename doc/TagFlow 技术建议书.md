
## 1. 核心技术栈选型建议

根据需求中对“极轻量”和“多协议支持（WebDAV）”的极致追求，建议采用 **Rust + OpenDAL** 作为底层核心。

*   **语言：Rust**
    *   **理由：** 相比 Go，Rust 在处理高并发扫描时没有 GC（垃圾回收）带来的内存抖动，能稳定在 50MB 以内的内存占用。其所有权模型确保了文件索引过程中的线程安全。
*   **存储抽象层：OpenDAL**
    *   **理由：** 调研报告中提到的 OpenDAL 是关键。它能让你用一套代码同时处理 Local FS 和 WebDAV，甚至未来扩展 S3、OneDrive 也不需要修改逻辑。
*   **后端框架：Axum (基于 Tokio)**
    *   **理由：** 性能顶尖，且与 Rust 异步生态兼容性最好，非常适合处理扫描时的异步 I/O。
*   **数据库：SQLite 3 (开启 WAL 模式)**
    *   **理由：** 符合单文件、零运维需求。
*   **前端框架：Vue 3 + Vite + TailwindCSS**
    *   **理由：** Vue 3 的组合式 API 开发效率高；TailwindCSS 能极大地减小 CSS 产物体积，符合轻量化定位。

## 2. 核心竞争力技术实现方案

*   **高性能扫描：** 采用“生产者-消费者”模型。生产者递归遍历文件树，消费者（Worker Pool）负责元数据提取和入库，通过原子操作和批量事务降低 SQLite 锁竞争。
*   **非侵入性保证：** 严格执行 `ReadOnly` 挂载策略。所有标签、缩略图、元数据均存储在独立的数据卷（`/app/data`）中，绝不向用户资源库写入任何隐藏文件。
*   **自动化标签策略：** 采用“插件化分词器”。系统启动时加载默认策略（路径、后缀），并支持用户在 UI 界面自定义正则表达式匹配规则。